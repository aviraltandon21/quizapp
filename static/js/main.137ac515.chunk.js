(this.webpackJsonpquizapp=this.webpackJsonpquizapp||[]).push([[0],{26:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(18),i=n.n(s),r=(n(26),n(21)),o=n(6),l=n(8),u=n(9),j=n.n(u),d=n(19),b=n(3),h=n(20),m=n.n(h),O=n(0),p={sports:21,history:23,politics:24,general:9,computers:18,science:17,mathematics:19,mythology:20,geography:22,his:23,celebrities:26,books:10,films:11,anime:31},x=a.a.createContext(),f=function(e){var t=e.children,n=Object(c.useState)(!0),a=Object(b.a)(n,2),s=a[0],i=a[1],r=Object(c.useState)(!1),u=Object(b.a)(r,2),h=u[0],f=u[1],v=Object(c.useState)([]),g=Object(b.a)(v,2),y=g[0],N=g[1],q=Object(c.useState)(0),w=Object(b.a)(q,2),S=w[0],C=w[1],k=Object(c.useState)(0),M=Object(b.a)(k,2),z=M[0],_=M[1],F=Object(c.useState)(!1),H=Object(b.a)(F,2),A=H[0],I=H[1],B=Object(c.useState)({amount:5,category:"sports",difficulty:"easy"}),G=Object(b.a)(B,2),J=G[0],L=G[1],Q=Object(c.useState)(!1),T=Object(b.a)(Q,2),D=T[0],E=T[1],K=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),i(!1),e.next=4,m()(t).catch((function(e){return console.log(e)}));case 4:(n=e.sent)?(c=n.data.results).length>0?(N(c),f(!1),i(!1),I(!1)):(i(!0),I(!0)):i(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){C((function(e){var t=e+1;return t>y.length-1?(Y(),0):t}))},Y=function(){E(!0)};return Object(O.jsx)(x.Provider,{value:{waiting:s,loading:h,questions:y,index:S,correct:z,error:A,isModalOpen:D,nextQuestion:P,checkAnswer:function(e){e&&_((function(e){return e+1})),P()},closeModal:function(){i(!0),_(0),E(!1)},quiz:J,handleChange:function(e){var t=e.target.name,n=e.target.value;L(Object(l.a)(Object(l.a)({},J),{},Object(o.a)({},t,n)))},handleSubmit:function(e){e.preventDefault();var t=J.amount,n=J.category,c=J.difficulty,a="".concat("https://opentdb.com/api.php?","amount=").concat(t,"&difficulty=").concat(c,"&category=").concat(p[n],"&type=multiple");K(a)}},children:t})},v=function(){return Object(c.useContext)(x)},g=function(){var e=v(),t=e.quiz,n=e.handleChange,c=e.handleSubmit,a=e.error;return Object(O.jsx)("main",{children:Object(O.jsx)("section",{className:"quiz quiz-small",children:Object(O.jsxs)("form",{className:"setup-form",children:[Object(O.jsx)("h2",{children:"setup quiz"}),Object(O.jsxs)("div",{className:"form-control",children:[Object(O.jsx)("label",{htmlFor:"amount",children:"number of questions"}),Object(O.jsx)("input",{type:"number",name:"amount",id:"amount",value:t.amount,onChange:n,className:"form-input",min:1,max:50})]}),Object(O.jsxs)("div",{className:"form-control",children:[Object(O.jsx)("label",{htmlFor:"category",children:"category"}),Object(O.jsxs)("select",{name:"category",id:"category",className:"form-input",value:t.category,onChange:n,children:[Object(O.jsx)("option",{value:"sports",children:"Sports"}),Object(O.jsx)("option",{value:"history",children:"History"}),Object(O.jsx)("option",{value:"general",children:"General Knowledge"}),Object(O.jsx)("option",{value:"computers",children:"Computers"}),Object(O.jsx)("option",{value:"science",children:"Science and Nature"}),Object(O.jsx)("option",{value:"mathematics",children:"Mathematics"}),Object(O.jsx)("option",{value:"mythology",children:"Mythology"}),Object(O.jsx)("option",{value:"geography",children:"Geography"}),Object(O.jsx)("option",{value:"his",children:"History"}),Object(O.jsx)("option",{value:"celebrities",children:"Celebrities"}),Object(O.jsx)("option",{value:"books",children:"Books"}),Object(O.jsx)("option",{value:"films",children:"Films"}),Object(O.jsx)("option",{value:"anime",children:"Anime and Manga"})]})]}),Object(O.jsxs)("div",{className:"form-control",children:[Object(O.jsx)("label",{htmlFor:"difficulty",children:"select difficulty"}),Object(O.jsxs)("select",{name:"difficulty",id:"difficulty",className:"form-input",value:t.difficulty,onChange:n,children:[Object(O.jsx)("option",{value:"easy",children:"easy"}),Object(O.jsx)("option",{value:"medium",children:"medium"}),Object(O.jsx)("option",{value:"hard",children:"hard"})]})]}),a&&Object(O.jsx)("p",{className:"error",children:"can't generate questions, please try different options"}),Object(O.jsx)("button",{type:"submit",onClick:c,className:"submit-btn",children:"start"})]})})})},y=function(){return Object(O.jsx)("main",{children:Object(O.jsx)("div",{className:"loading"})})},N=function(){var e=v(),t=e.isModalOpen,n=e.closeModal,c=e.correct,a=e.questions;return Object(O.jsx)("div",{className:"".concat(t?"modal-container isOpen":"modal-container"),children:Object(O.jsxs)("div",{className:"modal-content",children:[Object(O.jsx)("h2",{children:"congrats!"}),Object(O.jsxs)("p",{children:["You answered ",(c/a.length*100).toFixed(0),"% of questions correctly"]}),Object(O.jsx)("button",{className:"close-btn",onClick:n,children:"play again"})]})})};var q=function(){var e=v(),t=e.waiting,n=e.loading,c=e.questions,a=e.index,s=e.correct,i=e.nextQuestion,o=e.checkAnswer;if(t)return Object(O.jsx)(g,{});if(n)return Object(O.jsx)(y,{});var l=c[a],u=l.question,j=l.incorrect_answers,d=l.correct_answer,b=Object(r.a)(j),h=Math.floor(4*Math.random());return 3===h?b.push(d):(b.push(b[h]),b[h]=d),Object(O.jsxs)("main",{children:[Object(O.jsx)(N,{}),Object(O.jsxs)("section",{className:"quiz",children:[Object(O.jsxs)("p",{className:"correct-answers",children:["correct answers : ",s,"/",a]}),Object(O.jsxs)("article",{className:"container",children:[Object(O.jsx)("h2",{dangerouslySetInnerHTML:{__html:u}}),Object(O.jsx)("div",{className:"btn-container",children:b.map((function(e,t){return Object(O.jsx)("button",{className:"answer-btn",onClick:function(){return o(d===e)},dangerouslySetInnerHTML:{__html:e}},t)}))})]}),Object(O.jsx)("button",{className:"next-question",onClick:i,children:"next question"})]})]})};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(f,{children:Object(O.jsx)(q,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.137ac515.chunk.js.map